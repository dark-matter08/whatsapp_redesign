#:import FadeTransition kivy.uix.screenmanager.FadeTransition


<MessageScreen>:
    MDBoxLayout:
        orientation : 'vertical'
        md_bg_color : app.theme_cls.bg_normal

        MDToolbar:
            id: logo_tool_bar
            height: dp(50)
            title: "WhatsApp"
            right_action_items:[['dots-vertical', lambda x:x]]
            margin: 1

        ScrollView:
            do_scroll_y: True
            effect_cls: 'ScrollEffect' #prevents user from scrolling to see what is behind the scroll view
            bar_width: 0 #hides the scrollbar

            MDBoxLayout:
                adaptive_height: True
                orientation: 'vertical'
                md_bg_color: app.theme_cls.primary_color
                spacing: dp(20)

                MDBoxLayout:
                    height: dp(60)
                    size_hint_y: None

                    ScrollView:
                        do_scroll_y: False
                        bar_width: 0

                        MDBoxLayout:
                            id: story_layout
                            orientation: 'horizontal'
                            adaptive_width: True
                            spacing: dp(10)
                            padding: [10, 0, 0, 0] #padding [right, top, left, bottom] to pust story items to the right

                            StoryWithIcon:

                MDBoxLayout:
                    orientation: 'vertical'
                    md_bg_color: app.theme_cls.bg_normal
                    size_hint_y: None
                    adaptive_height: True
                    radius: [20, 20, 0, 0]
                    padding: [0, 0, 0, 40] #adding the bottom padding to push the chat items up so that the last item would be visible

                    MDList:
                        id: chat_time_line
                        spacing: dp(10)

ScreenManager:
    id: screen_manager
    transition: FadeTransition()

    ChatScreen:
        id: chat_screen
        name: "chat_screen"
    MessageScreen:
        id : message_screen
        name: "message_screen"
